import{c as P,a as o,t as m}from"../chunks/qhCaCgHc.js";import{i as Oe}from"../chunks/8bq-mjS9.js";import{ab as Be,aa as F,ac as He,j as c,m as D,b as e,ad as t,af as r,ae as a,ag as T,d as G}from"../chunks/CnglX5le.js";import{s as l,e as M}from"../chunks/8PFJ6ntA.js";import{i as b}from"../chunks/Dy2_i3Fl.js";import{e as te,i as ae}from"../chunks/DEaYwLy0.js";import{r as Ue}from"../chunks/BY3XG9Md.js";import{s as se}from"../chunks/DiTW7_4n.js";import{t as ie,f as de}from"../chunks/D7ZupLfI.js";import{b as ze}from"../chunks/ClStUPh4.js";import{s as Ne,a as Ve}from"../chunks/D31U_0fv.js";import{o as qe}from"../chunks/BqiK9gpZ.js";import{t as Ae}from"../chunks/D9tAFEM4.js";var Ee=m('<div class="empty-chats svelte-1fdfw6d"><p>У вас пока нет чатов</p></div>'),Pe=m('<div><div class="chat-avatar svelte-1fdfw6d"> </div> <div class="chat-preview svelte-1fdfw6d"><div class="chat-title svelte-1fdfw6d"> </div> <div class="chat-message svelte-1fdfw6d"> </div></div> <div class="chat-time svelte-1fdfw6d"> </div></div>'),Fe=m('<h1 class="svelte-1fdfw6d"> </h1>'),Ge=m('<h1 class="svelte-1fdfw6d"> </h1>'),Je=m('<div class="empty-chat svelte-1fdfw6d"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="svelte-1fdfw6d"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg> <p class="svelte-1fdfw6d">Выберите чат из списка или создайте новый.</p></div>'),Ke=m('<div class="empty-chat svelte-1fdfw6d"><svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="svelte-1fdfw6d"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg> <p class="svelte-1fdfw6d">Напишите сообщение, и я отвечу вам в ближайшее время.</p></div>'),Qe=m('<div><div class="message-content svelte-1fdfw6d"><p class="svelte-1fdfw6d"> </p> <span class="message-time svelte-1fdfw6d"> </span></div></div>'),Re=m('<div class="message-input svelte-1fdfw6d"><input type="text" placeholder="Введите сообщение..." class="svelte-1fdfw6d"> <button aria-label="Отправить сообщение" class="svelte-1fdfw6d"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-1fdfw6d"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg></button></div>'),We=m('<main class="svelte-1fdfw6d"><div class="chat-page svelte-1fdfw6d"><div class="chat-sidebar svelte-1fdfw6d"><div class="sidebar-header svelte-1fdfw6d"><h2 class="svelte-1fdfw6d">Чаты</h2> <div class="user-info svelte-1fdfw6d"><div class="user-avatar svelte-1fdfw6d"> </div> <div class="user-details svelte-1fdfw6d"><div class="user-name svelte-1fdfw6d"> </div> <div class="user-login svelte-1fdfw6d"> </div></div></div></div> <div class="chats-list svelte-1fdfw6d"><!></div> <div class="sidebar-footer svelte-1fdfw6d"><button class="home-button svelte-1fdfw6d">На главную</button></div></div> <div class="chat-container svelte-1fdfw6d"><header class="chat-header svelte-1fdfw6d"><!></header> <div class="messages-container svelte-1fdfw6d"><!></div> <!></div></div></main>');function lt(re,ve){Be(ve,!1);const[oe,le]=Ne(),J=()=>Ve(Ae,"$translations",oe);let j=D(!1),u=D([]),k=D(""),I=D([]),_=D(null),L={name:"Test User",contact:"user@example.com"};qe(()=>{c(j,!0),ne()});async function ne(){setTimeout(()=>{c(I,[{id:1,user_id:1,title:"Первый чат",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),lastMessage:"Последнее сообщение в чате",userName:"Алексей Смирнов",userInitials:"AC"},{id:2,user_id:1,title:"Второй чат",created_at:new Date(Date.now()-864e5).toISOString(),updated_at:new Date(Date.now()-36e5).toISOString(),lastMessage:"Другое важное сообщение",userName:"Иван Петров",userInitials:"ИП"}])},500)}function fe(){c(j,!1),setTimeout(()=>{window.location.href="/"},600)}function ce(p){c(_,p),c(u,[]),setTimeout(()=>{c(u,[{text:"Привет! Как дела?",sender:"user",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},{text:"Добрый день! У меня всё хорошо, спасибо. Чем могу помочь?",sender:"admin",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}])},300)}function K(){e(k).trim()===""||!e(_)||(c(u,[...e(u),{text:e(k),sender:"user",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}]),c(k,""),setTimeout(()=>{c(u,[...e(u),{text:"Спасибо за сообщение! Я отвечу вам в ближайшее время.",sender:"admin",time:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}])},1e3))}function Q(p){return p.split(" ").map(g=>g[0]).join("").toUpperCase().substring(0,2)}Oe();var R=P(),me=F(R);{var ue=p=>{var g=We(),W=t(g),O=t(W),B=t(O),X=r(t(B),2),H=t(X),we=t(H,!0);a(H);var Y=r(H,2),U=t(Y),_e=t(U,!0);a(U);var Z=r(U,2),pe=t(Z,!0);a(Z),a(Y),a(X),a(B);var z=r(B,2),ge=t(z);{var he=s=>{var i=Ee();o(s,i)},xe=s=>{var i=P(),v=F(i);te(v,1,()=>e(I),ae,(n,d)=>{var f=Pe(),y=t(f),q=t(y,!0);a(y);var h=r(y,2),w=t(h),C=t(w,!0);a(w);var x=r(w,2),A=t(x,!0);a(x),a(h);var S=r(h,2),E=t(S,!0);a(S),a(f),T((je,Le)=>{se(f,1,`chat-item ${(e(_)===e(d).id?"selected":"")??""}`,"svelte-1fdfw6d"),l(q,je),l(C,e(d).title),l(A,e(d).lastMessage||"Нет сообщений"),l(E,Le)},[()=>e(d).userInitials||Q(e(d).title),()=>new Date(e(d).updated_at).toLocaleDateString([],{day:"2-digit",month:"2-digit"})],G),M("click",f,()=>ce(e(d).id)),o(n,f)}),o(s,i)};b(ge,s=>{e(I).length===0?s(he):s(xe,!1)})}a(z);var $=r(z,2),be=t($);a($),a(O);var ee=r(O,2),N=t(ee),ke=t(N);{var ye=s=>{var i=Fe(),v=t(i,!0);a(i),T(n=>l(v,n),[()=>{var n;return((n=e(I).find(d=>d.id===e(_)))==null?void 0:n.title)||"Чат"}],G),o(s,i)},Se=s=>{var i=Ge(),v=t(i,!0);a(i),T(()=>l(v,J().name?J().name:"Выберите чат")),o(s,i)};b(ke,s=>{e(_)?s(ye):s(Se,!1)})}a(N);var V=r(N,2),De=t(V);{var Te=s=>{var i=Je();o(s,i)},Ie=(s,i)=>{{var v=d=>{var f=Ke();o(d,f)},n=d=>{var f=P(),y=F(f);te(y,1,()=>e(u),ae,(q,h)=>{var w=Qe(),C=t(w),x=t(C),A=t(x,!0);a(x);var S=r(x,2),E=t(S,!0);a(S),a(C),a(w),T(()=>{se(w,1,`message ${(e(h).sender==="user"?"user-message":"admin-message")??""}`,"svelte-1fdfw6d"),l(A,e(h).text),l(E,e(h).time)}),o(q,w)}),o(d,f)};b(s,d=>{e(u).length===0?d(v):d(n,!1)},i)}};b(De,s=>{e(_)?s(Ie,!1):s(Te)})}a(V);var Ce=r(V,2);{var Me=s=>{var i=Re(),v=t(i);Ue(v);var n=r(v,2);a(i),ze(v,()=>e(k),d=>c(k,d)),M("keydown",v,d=>d.key==="Enter"&&K()),M("click",n,K),o(s,i)};b(Ce,s=>{e(_)&&s(Me)})}a(ee),a(W),a(g),T(s=>{l(we,s),l(_e,L.name),l(pe,L.contact)},[()=>Q(L.name)],G),M("click",be,fe),ie(1,g,()=>de,()=>({x:-1e3,duration:500})),ie(2,g,()=>de,()=>({x:1e3,duration:500})),o(p,g)};b(me,p=>{e(j)&&p(ue)})}o(re,R),He(),le()}export{lt as component};
